version: v1.1.0

dsn: memory

serve:

  public:
    # This will be overridden by the SERVE_PUBLIC_BASE_URL environment variable in Docker
    base_url: http://127.0.0.1:4433/ 
  admin:
    base_url: http://kratos:4434/
    
courier:
  smtp:
    connection_uri: smtp://test:test@mailslurper:1025/?skip_ssl_verify=true

selfservice:
  methods:
    password:
      enabled: true # Enable standard email/password authentication
    oidc:
      enabled: true # Enable Social Login (OAuth2/OpenID Connect)
      config:
        providers:
          - id: gitlab
            provider: gitlab
            mapper_url: file:///etc/config/kratos/oidc.gitlab.jsonnet
            # Credentials (Client ID/Secret) are injected via Environment Variables
            scope:
              - openid
              - profile
              - email
          - id: google
            provider: google
            mapper_url: file:///etc/config/kratos/oidc.google.jsonnet
            # Credentials (Client ID/Secret) are injected via Environment Variables
            scope:
              - openid
              - profile
              - email

identity:
  default_schema_id: default
  schemas:
    - id: default
      url: file:///etc/config/kratos/identity.schema.json